<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <script src="https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
  <link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script type="text/javascript" src="http://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>
  <style>
      body {
        margin: 0;
        padding: 0;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
      .pic_sls {
        width:200px;
        margin-left: 25px;
        margin-right: 25px;
        content: ""
      }
      .slick-prev:before, .slick-next:before {
        color: rgba(0,0,0,0.5);
      }
    </style>
</head>
<body>
  <div id="map" ></div>
  <script>
    var pics = {
      0: [
        "https://2.bp.blogspot.com/-ay2Vz9D2Y0Q/WxLSBTksmxI/AAAAAAAAAJ0/wCUeOGjFlEEPff5q1ROKUqI54LAZuuNpACLcBGAs/s1600/DSC_0347.JPG", 
        "https://4.bp.blogspot.com/-fAF_6djUZXk/WxLSBjzUWbI/AAAAAAAAAJ4/xEtYxjoPc1gCZzc2OwKRvrXx0LudsNMiQCLcBGAs/s1600/DSC_0339.JPG",
        "https://2.bp.blogspot.com/-_UAYNqgy1xM/WxLTOC_C70I/AAAAAAAAAKc/9WeORDT-bmkJUSXjtC00E0pdMt039YoWwCLcBGAs/s1600/DSC_0354.JPG" 
      ], //id=0
      "maidan": [
        "https://3.bp.blogspot.com/-Hu5qWE6sQHs/WxLSBobKhsI/AAAAAAAAAJ8/LW-6xxWmLHQrIpRLEHH3iKXzfIbST_-fwCLcBGAs/s1600/DSC_0345.JPG", 
        "https://2.bp.blogspot.com/-nYgRHxgdNqg/WxLSCblNHWI/AAAAAAAAAKA/YzW4pZB6xNg49aPUA8wcJY6TE9ISd76lwCLcBGAs/s1600/DSC_0376.JPG",
        "https://4.bp.blogspot.com/-SZsUcVIMaEM/WxLTOGhCK_I/AAAAAAAAAKY/Cq5C7UABxTkYmUEJxaG4sWXHYSHHBHaZQCLcBGAs/s1600/DSC_0356.JPG"
      ], //id=1
      2: [
        "https://3.bp.blogspot.com/-Gy4nWS9fKdc/VruoNWCWJfI/AAAAAAAAAEY/BDDH2zBJI7A/s1600/447628.JPG"
      ], //id=2
      3: [
        "https://4.bp.blogspot.com/-yjDGEsyReDc/Vrct-ABxoAI/AAAAAAAAAEI/rUkLuvZ2mlM/s1600/IMG_7322.JPG"
      ], //id=3
      4: [
        "https://3.bp.blogspot.com/-YlZLDpccDg8/VruoNk81PCI/AAAAAAAAAEc/UFIUhOIFerU/s1600/12002756_1665991130304918_2893472064096977058_n.JPG"
      ], //id=4
      5: [
        "https://3.bp.blogspot.com/-dLwlJnnLUuM/WxKkXKjhb5I/AAAAAAAAAI0/KTRKLavRuOsKSVg4BBNG2jUHiDF6IVFXwCLcBGAs/s1600/in%2Bsitu125.jpg",
        "https://4.bp.blogspot.com/-ORcW5hgGHgo/WxKkXP6CDLI/AAAAAAAAAIw/b7kK1FBHpKUcNVJJ0MFAKuQC6NK8_jVhwCLcBGAs/s1600/in%2Bsitu124.jpg",
        "https://3.bp.blogspot.com/-w9T1A7xoDmE/WxKkWydXQ_I/AAAAAAAAAIs/Gjl1VSTESYAGEySnjq4Hf39f2tSArDQsACLcBGAs/s1600/in%2Bsitu091.jpg"
      ], //id=5
      6: [
       "http://www.khtulhu.org.ua/images/stories/abandons/22.08.2017/08212506.JPG"
      ], //id=6
      7: [
        "https://1.bp.blogspot.com/-kq7wlWOtog8/Wd-NrpOmTXI/AAAAAAAAADE/x1MkzeX3ToQT78nAb3CAywEbC8A_rKgeACLcBGAs/s1600/%25D1%2588%25D0%25B5%25D0%25B2%25D1%2587%25D0%25B5%25D0%25BD%25D0%25BA%25D0%25BE38.jpg"
      ], //id=7
      8: [
        "https://2.bp.blogspot.com/-4H2hbAXE0hE/VruoOf3eLRI/AAAAAAAAAEs/b_CrVGbpKII/s1600/IMG_6498.JPG"
      ],  //id=8
      9: [
        "https://vi.ill.in.ua/m/300x140/621286.jpg"
      ],  //id=9
      10: [
        "https://4.bp.blogspot.com/-tLaCu_glkFw/WxLBJD8TC-I/AAAAAAAAAJo/w8TKqeXa4lgzEF_xTRveXjqS4EQhGvKwwCLcBGAs/s1600/0005fgk5.jpg"
      ],  //id=10
      11: [
        "https://2.bp.blogspot.com/-wXtFPngAAAc/Wd-SOWO6RgI/AAAAAAAAADM/ZoBlemcEM6YU6H1fstwfGA_d4_NzDI81wCLcBGAs/s320/%25D0%25BD%25D0%25B5%25D0%25B4%25D0%25BE%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B9.jpg"
      ],  //id=11
      12: [
        "http://old-city.uastorage.com/wp-content/uploads/2011/08/IMG_0718-600x399.jpg"
      ],  //id=12
      13: [
        "https://4.bp.blogspot.com/-b41-mPlLBzo/Wjbb6KX8BqI/AAAAAAAAAEY/7gImRaLlkvEnlKIqVF6DeB90Z9EMCPwfQCLcBGAs/s1600/photo_2017-12-03_11-11-12%2B%25282%2529.jpg", 
        "https://2.bp.blogspot.com/-tu4UcWukqPA/Wjbb6dXw3fI/AAAAAAAAAEc/_g7rXIf6CgcL7_kKT65nAU0UPTnX090cgCLcBGAs/s1600/photo_2017-12-03_11-11-12.jpg", 
        "https://1.bp.blogspot.com/-tJNPetiDPzg/Wjbb6pA80MI/AAAAAAAAAEg/geNYAvYJ7GQS6e5qqKJnRHnmsDucbd1IgCLcBGAs/s1600/photo_2017-12-03_11-11-13.jpg",
        "https://3.bp.blogspot.com/-NHvPNUJu25g/Wjbb65Tv9cI/AAAAAAAAAEk/2e4iJVc9HGgmqWRHor65J3HF2A1_FB7gQCLcBGAs/s1600/photo_2017-12-03_11-11-14.jpg",
      ], //id=13
      14: [
        "https://2.bp.blogspot.com/-mW8WYyH6AsU/Wjbb4pnJ8wI/AAAAAAAAAEE/A4eafhNZuOcu4ujERjyTncmrT2hRGcJugCLcBGAs/s1600/IMG_3560.JPG", 
        "https://3.bp.blogspot.com/-t2jJ3PG8l30/Wjbb4gmjtoI/AAAAAAAAAEA/aJ2TkrfHuuII7AdBN76zEyoHmP69YyetwCLcBGAs/s1600/IMG_3559.JPG", 
        "https://3.bp.blogspot.com/-dO0gtOv7RIQ/Wjbb4glhf-I/AAAAAAAAAEI/Jb28hmAsQpUtIzORtGm3tNJAbwbcJZcDgCLcBGAs/s1600/IMG_3549.JPG"
      ], //id=14
      15: [
        "https://4.bp.blogspot.com/-sm7CZWvvVEA/Wjbb5c9_tjI/AAAAAAAAAEM/IilPwX5dS8oOTbhR9VA3uZgcFp7J8GPUQCLcBGAs/s1600/image_2017-12-16_21-46-54.png", 
        "https://4.bp.blogspot.com/-e5z-ejwyw6U/Wjbb54ZxQRI/AAAAAAAAAEQ/ZaCbOxSh0HUBftDlu8emgnNNfqfq6WmNQCLcBGAs/s1600/image_2017-12-16_21-47-13.png"
      ], //id=15
      16: [
        "https://2.bp.blogspot.com/-tKfGzIM6a3M/WxKkXlbW7eI/AAAAAAAAAJA/2mG0uA3m51AQCbKFPrVIGIPht7zsfZPNQCLcBGAs/s1600/photo_2018-06-02_17-01-59.jpg", 
        "https://2.bp.blogspot.com/-zom40N0ZFf4/WxKkX65bBxI/AAAAAAAAAJE/EX042IqkpkUKWYY42F6_jesSRotwd1BuACLcBGAs/s1600/photo_2018-06-02_17-02-03.jpg"
      ], //id=16
      17: [ 
        "https://2.bp.blogspot.com/-Ss_-C9XQTXA/WxKkXdgV-mI/AAAAAAAAAI8/7K1EUaBmq2Y1GqunY4lcgAicJJ-qa5WMQCLcBGAs/s1600/photo_2018-06-02_17-01-54.jpg"
      ], //id=17
      18: [
        "https://2.bp.blogspot.com/-Ff11v-RMr2Q/WxKkULK6cCI/AAAAAAAAAIU/crdgWfvHeE8mKUueWlVvBqzuQaQUF8AHwCLcBGAs/s1600/DSC_0312.JPG", 
        "https://4.bp.blogspot.com/-mZk6Bc1xIaU/WxKkUGo4yPI/AAAAAAAAAIY/435uUfgALYY3-W0Fnip5FKsrkbiC636zwCLcBGAs/s1600/DSC_0324.JPG",
        "https://3.bp.blogspot.com/-CMgnLZ-zFFo/WxKkUEBWp4I/AAAAAAAAAIc/Lu46kCIILQgPkLQ8htTftBZnSthSG2CRQCLcBGAs/s1600/DSC_0317.JPG",
        "https://4.bp.blogspot.com/-3kjLReQGUnM/WxKkVv7NEYI/AAAAAAAAAIg/Y6QnaV0KUigWNZ1NvgtBKBOge0iWa_34wCLcBGAs/s1600/DSC_0329.JPG"
      ], //id=18
      19: [
        "https://2.bp.blogspot.com/-lChoEZY0B2o/WxKkVrhXI6I/AAAAAAAAAIk/fjPPX8b7GZAf2prVh3_nJ4W53KE86Qw5QCLcBGAs/s1600/DSC_0378.JPG", 
        "https://1.bp.blogspot.com/-jiovRAlKx04/WxKkV9s6pgI/AAAAAAAAAIo/bvoA4JzuTY0J55zKlDy67gUqeQVhG1yNgCLcBGAs/s1600/DSC_0390.JPG"
      ], //id=19
    };
    mapboxgl.accessToken = "pk.eyJ1Ijoic2hldmNoZW5rbzQ1IiwiYSI6ImNqMWZnb3NnNjAwMHIyd3J4c29wOHgybzEifQ.J9NgVo7RF1BBhdYIkVKKwQ";
//"pk.eyJ1Ijoic2hldmNoZW5rbzQ1IiwiYSI6ImNqMWZnb3NnNjAwMHIyd3J4c29wOHgybzEifQ.J9NgVo7RF1BBhdYIkVKKwQ"
    var map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/shevchenko45/cj8lwywy96cs72sn45pim7gi9",
        // style: "mapbox://styles/shevchenko45/cj4wo92s23fio2rnukei3ilc8",
        center: [35.051303, 48.459590],
        minZoom: 15,
  maxZoom: 19,
    });
    map.on("click", function(e) {
      console.log("Clicked on :")
      console.log(e.point)
      var features = map.queryRenderedFeatures(e.point, {
        layers: ["bt6","place"] // replace this with the name of the layer
      });
      console.log(features)
      if (!features.length) {
        return;
      }
      var feature = features[0];
      console.log(feature)
      var piclist = pics[feature.id]; // replace feature.id by feature.properties.id
      var picsHTML = `<div class="pic_sls">${piclist.map(x=>"<img width=200 src='"+x+"' />").join("")}</div>`;
      var popup = new mapboxgl.Popup({ offset: [0, -15] })
        .setLngLat(feature.geometry.coordinates[0].reduce(([x1,y1],[x2,y2])=>[(x1+x2)/2,(y1+y2)/2]))
        .setHTML(`<h3>Name: ${feature.properties.name}</h3>`+
                 `<p>${feature.properties.description}</p>` +
                 picsHTML)
        .addTo(map);
      $(".pic_sls").slick({
        slidesToShow: 1,
        infinite: true,
        dots: true
      });
    });
  </script>
</body>
</html>
